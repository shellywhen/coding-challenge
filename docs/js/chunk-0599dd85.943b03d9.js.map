{"version":3,"sources":["webpack:///./node_modules/core-js/internals/string-pad.js","webpack:///./node_modules/core-js/internals/string-repeat.js","webpack:///./node_modules/core-js/modules/es.string.pad-start.js","webpack:///./node_modules/core-js/modules/es.array.filter.js","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./node_modules/core-js/internals/inherit-if-required.js","webpack:///./node_modules/core-js/internals/string-pad-webkit-bug.js","webpack:///./node_modules/core-js/modules/es.number.constructor.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","webpack:///./src/views/C2.vue?cf3e","webpack:///./src/assets/ts/c2.ts","webpack:///./src/views/C2.vue","webpack:///./src/views/C2.vue?baf0","webpack:///./src/views/C2.vue?dfe2","webpack:///./src/views/C2.vue?97e1"],"names":["toLength","repeat","requireObjectCoercible","ceil","Math","createMethod","IS_END","$this","maxLength","fillString","fillLen","stringFiller","S","String","stringLength","length","fillStr","undefined","intMaxLength","call","slice","module","exports","start","end","toInteger","count","str","this","result","n","Infinity","RangeError","$","$padStart","WEBKIT_BUG","target","proto","forced","padStart","arguments","$filter","filter","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","callbackfn","whitespaces","whitespace","ltrim","RegExp","rtrim","TYPE","string","replace","trim","isObject","setPrototypeOf","dummy","Wrapper","NewTarget","NewTargetPrototype","constructor","prototype","userAgent","test","DESCRIPTORS","global","isForced","redefine","has","classof","inheritIfRequired","toPrimitive","fails","create","getOwnPropertyNames","f","getOwnPropertyDescriptor","defineProperty","NUMBER","NativeNumber","NumberPrototype","BROKEN_CLASSOF","toNumber","argument","first","third","radix","maxCode","digits","index","code","it","charCodeAt","NaN","parseInt","key","NumberWrapper","value","valueOf","keys","split","j","_createForOfIteratorHelper","o","allowArrayLike","Symbol","iterator","Array","isArray","unsupportedIterableToArray","i","F","s","done","e","_e","TypeError","err","normalCompletion","didErr","step","next","_e2","Mode","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","_v","model","callback","$$v","radio","expression","staticRenderFns","xScale","yScale","mode","maximum","width","height","legendRatio","declaredWidth","declaredHeight","leftWidthPadding","rightWidthPadding","heightPadding","xPaddingOuter","xPaddingInner","yPaddingOuter","bandAlign","barRadius","barRadiusMin","colorScheme","monthName","yearName","max_max_t","Number","NEGATIVE_INFINITY","max_min_t","min_max_t","POSITIVE_INFINITY","min_min_t","startYear","endYear","yearTotal","obj","date","substring","bars","year","push","tmp","month","minimum","minlist","maxlist","forEach","v","dmax","max_temperature","dmin","min_temperature","max","min","bar","svgid","svg","d3","style","realWidth","realHeight","canvas","append","attr","domain","range","paddingOuter","paddingInner","align","map","toString","x","t","selectAll","remove","legendCanvas","classed","legendSlots","mint","maxt","cScale","cxScale","annotation","bandwidth","select","data","enter","d","text","fillBar","getXpos","window","innerWidth","html","pageX","pageY","xLeftPadding","yTopPadding","on","minixScale","miniyScale","lineGenerator","y","init","then","immediate","deep","name","component"],"mappings":"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","file":"js/chunk-0599dd85.943b03d9.js","sourcesContent":["// https://github.com/tc39/proposal-string-pad-start-end\nvar toLength = require('../internals/to-length');\nvar repeat = require('../internals/string-repeat');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar ceil = Math.ceil;\n\n// `String.prototype.{ padStart, padEnd }` methods implementation\nvar createMethod = function (IS_END) {\n  return function ($this, maxLength, fillString) {\n    var S = String(requireObjectCoercible($this));\n    var stringLength = S.length;\n    var fillStr = fillString === undefined ? ' ' : String(fillString);\n    var intMaxLength = toLength(maxLength);\n    var fillLen, stringFiller;\n    if (intMaxLength <= stringLength || fillStr == '') return S;\n    fillLen = intMaxLength - stringLength;\n    stringFiller = repeat.call(fillStr, ceil(fillLen / fillStr.length));\n    if (stringFiller.length > fillLen) stringFiller = stringFiller.slice(0, fillLen);\n    return IS_END ? S + stringFiller : stringFiller + S;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.padStart` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.padstart\n  start: createMethod(false),\n  // `String.prototype.padEnd` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.padend\n  end: createMethod(true)\n};\n","'use strict';\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.repeat` method implementation\n// https://tc39.github.io/ecma262/#sec-string.prototype.repeat\nmodule.exports = ''.repeat || function repeat(count) {\n  var str = String(requireObjectCoercible(this));\n  var result = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $padStart = require('../internals/string-pad').start;\nvar WEBKIT_BUG = require('../internals/string-pad-webkit-bug');\n\n// `String.prototype.padStart` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.padstart\n$({ target: 'String', proto: true, forced: WEBKIT_BUG }, {\n  padStart: function padStart(maxLength /* , fillString = ' ' */) {\n    return $padStart(this, maxLength, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n// Edge 14- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","var isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","// https://github.com/zloirock/core-js/issues/280\nvar userAgent = require('../internals/engine-user-agent');\n\n// eslint-disable-next-line unicorn/no-unsafe-regex\nmodule.exports = /Version\\/10\\.\\d+(\\.\\d+)?( Mobile\\/\\w+)? Safari\\//.test(userAgent);\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.github.io/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.github.io/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","import unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"c2\"}},[_c('div',{staticClass:\"tooltip\"}),_c('div',{staticClass:\"left-wrapper\"},[_c('span',{staticClass:\"title\"},[_vm._v(\" Daily Temperature of Hong Kong\")]),_c('el-radio',{attrs:{\"label\":\"1\"},model:{value:(_vm.radio),callback:function ($$v) {_vm.radio=$$v},expression:\"radio\"}},[_vm._v(\"Max\")]),_c('el-radio',{attrs:{\"label\":\"2\"},model:{value:(_vm.radio),callback:function ($$v) {_vm.radio=$$v},expression:\"radio\"}},[_vm._v(\"Min\")])],1),_c('div',[_c('svg',{attrs:{\"id\":\"heatmap\"}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* eslint-disable */\r\n\r\n/**\r\n * This is the doc comment for c2.ts\r\n * It supports to plot small multiples inside the heatmap for HK temerature records.\r\n * @packageDocumentation\r\n */\r\n\r\nimport * as d3 from \"d3\"\r\nimport $ from 'jquery'\r\nimport { Cell } from './types'\r\n\r\nenum Mode {\r\n  maximum,\r\n  minimum\r\n}\r\nlet mode: Mode = Mode.maximum\r\nlet width: any = 800\r\nlet height: any = 300\r\nlet canvas: any\r\nlet xScale: any\r\nlet yScale: any\r\nlet colorScale_max: any\r\nlet colorScale_min: any\r\nlet colorScale: any\r\nconst legendRatio = 12/14  // the height ratio of the legend and the chart\r\nconst declaredWidth = '95vw'\r\nconst declaredHeight = '80vh'\r\nconst leftWidthPadding = 0.07\r\nconst rightWidthPadding = 0.005\r\nconst heightPadding = 0.05\r\nconst xPaddingOuter = 0.02\r\nconst xPaddingInner = 0.08\r\nconst yPaddingOuter = 0.02\r\nconst yPaddingInner = 0.1\r\nconst bandAlign = 1 // align right\r\nconst barRadius = 0.08 // radius of the heatmap bar\r\nconst barRadiusMin = 2\r\nconst colorScheme = 'interpolatePlasma'\r\nconst monthName = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\r\nlet yearName: number[] = []\r\n\r\nlet max_max_t = Number.NEGATIVE_INFINITY\r\nlet max_min_t = Number.NEGATIVE_INFINITY\r\nlet min_max_t = Number.POSITIVE_INFINITY\r\nlet min_min_t = Number.POSITIVE_INFINITY\r\nlet startYear: number = 1970\r\nlet endYear: number = 2020\r\nconst yearTotal: number = 8 // only focus on the last 8 years\r\n\r\n\r\n/**\r\n * Preprocess the passed data by merging the daily information into a monthly-based slot according to extreme.\r\n * @param obj the parsed data from csv, a list of  objects (date, min_temperature, max_temperature) ordered by date (format: YYYY-MM-DD)\r\n */\r\nlet dataPreprocessing = function (obj: any) {\r\n  endYear = parseInt(obj[obj.length-1].date.substring(0,4))\r\n  startYear = endYear - yearTotal + 1\r\n  let bars: any[] = []\r\n  for (let year = startYear; year <= endYear; year++) {\r\n    yearName.push(year)\r\n    let tmp: Cell[] = []\r\n    for (let month = 0; month < 12; month ++) {\r\n      tmp.push({\r\n        month: month,\r\n        year: year,\r\n        maximum: Number.NEGATIVE_INFINITY,\r\n        minimum: Number.POSITIVE_INFINITY,\r\n        minlist: [],\r\n        maxlist: []\r\n      })\r\n    }\r\n    bars.push(tmp)\r\n  }\r\n  obj.forEach((v: any, i: number) => {\r\n    let month = parseInt(v.date.substring(5, 7))-1\r\n    let year = parseInt(v.date.substring(0, 4))-startYear\r\n    if (year < 0) return  // keep only the last 8 years\r\n    let dmax = parseInt(v.max_temperature)\r\n    let dmin = parseInt(v.min_temperature)\r\n    bars[year][month].maximum = Math.max(bars[year][month].maximum, dmax)\r\n    bars[year][month].minimum = Math.min(bars[year][month].minimum, dmin)\r\n    bars[year][month].minlist.push(dmin)\r\n    bars[year][month].maxlist.push(dmax)\r\n  })\r\n  for(let i in bars) {\r\n    bars[i] = bars[i].filter((bar: any) => bar.maximum !== Number.NEGATIVE_INFINITY)\r\n    for(let bar of bars[i]) {\r\n      max_max_t = Math.max(max_max_t, bar.maximum)\r\n      max_min_t = Math.max(max_min_t, bar.minimum)\r\n      min_max_t = Math.min(min_max_t, bar.maximum)\r\n      min_min_t = Math.min(min_min_t, bar.minimum)\r\n    }\r\n  }\r\n  return bars\r\n}\r\n\r\nlet setupCanvas = function (svgid: string) {\r\n  let svg = d3.select(`#${svgid}`)\r\n  svg.style('width', declaredWidth)\r\n    .style('height', declaredHeight)\r\n  let realWidth = $(`#${svgid}`).width() || width\r\n  let realHeight = $(`#${svgid}`).height() || height\r\n  width = realWidth * (1 - leftWidthPadding - rightWidthPadding)\r\n  height = realHeight * (1 - heightPadding) * legendRatio\r\n  let canvas = svg.append('g')\r\n    .attr('transform', `translate(${realWidth * leftWidthPadding}, ${realHeight * heightPadding})`)\r\n  return canvas\r\n}\r\n\r\nlet setupScale = function () {\r\n  xScale = d3.scaleBand()\r\n    .domain(monthName)\r\n    .range([0, width])\r\n    .paddingOuter(xPaddingOuter)\r\n    .paddingInner(xPaddingInner)\r\n    .align(bandAlign)\r\n  yScale = d3.scaleBand()\r\n    .domain(yearName.map((v: number) => v.toString()))\r\n    .range([0, height])\r\n    .paddingOuter(yPaddingOuter)\r\n    .paddingInner(xPaddingInner)\r\n    .align(bandAlign)\r\n  colorScale_max = function(x: number) {\r\n    let t = (x - min_max_t)/(max_max_t - min_max_t)\r\n    return d3[colorScheme](t)\r\n  }\r\n  colorScale_min = function(x: number) {\r\n    let t = (x - min_min_t) / (max_min_t - min_min_t)\r\n    return d3[colorScheme](t)\r\n  }\r\n  colorScale = function(x: number) {\r\n    let t = (x - min_min_t) / (max_max_t - min_min_t)\r\n    return d3[colorScheme](t)\r\n  }\r\n}\r\n\r\nlet plotLegend = function () {\r\n  canvas.selectAll('.legend').remove()\r\n  let legendCanvas = canvas.append('g')\r\n    .attr('transform', `translate(${0}, ${height*(1+heightPadding)})`)\r\n    .classed('legend', true)\r\n  let legendSlots: string[] = []\r\n  let mint = mode === Mode.maximum ? min_max_t : min_min_t\r\n  let maxt = mode === Mode.maximum ? max_max_t : max_min_t\r\n  let cScale = mode === Mode.maximum ? colorScale_max : colorScale_min\r\n  for (let t = mint; t <= maxt; t++) legendSlots.push(t.toString())\r\n  let cxScale = d3.scaleBand()\r\n    .domain(legendSlots)\r\n    .range([0, width/2])\r\n    .paddingInner(0.02)\r\n    .paddingOuter(xPaddingOuter)\r\n    .align(1)\r\n  let annotation = legendCanvas.append('g')\r\n    .classed('annotation', true)\r\n    .attr('transform', `translate(0, ${cxScale.bandwidth()})`)\r\n    .call(d3.axisBottom(cxScale))\r\n  annotation.select('.domain').remove()\r\n  annotation.selectAll('.tick').select('line').remove()\r\n  annotation.selectAll('.tick').select('text').attr('dy', '0.3em')\r\n  legendCanvas.append('g').classed('legend-block', true)\r\n   .selectAll('rect')\r\n   .data(legendSlots)\r\n   .enter()\r\n   .append('rect')\r\n   .attr('x', (d: number) => cxScale(d.toString()))\r\n   .attr('y', 0)\r\n   .attr('width', cxScale.bandwidth())\r\n   .attr('height', cxScale.bandwidth())\r\n   .style('fill', (d: number) => cScale(d))\r\nlegendCanvas.append('text')\r\n  .attr('x', cxScale.range()[1] + 9)\r\n  .classed('tick-text', true)\r\n  .style('font-size', '0.8rem')\r\n  .style('text-anchor', 'start')\r\n  .attr('y', cxScale.bandwidth() / 2 + 4)\r\n  .text('Temperature (℃)')\r\n}\r\n\r\nlet plotAxis = function (canvas: any) {\r\n  canvas.append('g')\r\n      .classed('x-axis', true)\r\n      .attr('transform', `translate(${0}, ${0})`)\r\n      .call(d3.axisTop(xScale))\r\n      .style('font-size', '0.8rem')\r\n      .style('font-family', 'inherit')\r\n      .selectAll('.tick text')\r\n      .classed('tick-text', true)\r\n  canvas.append('g')\r\n      .classed('y-axis', true)\r\n      .attr('transform', `translate(${0}, ${0})`)\r\n      .call(d3.axisLeft(yScale))\r\n      .style('font-size', '0.8rem')\r\n      .style('font-family', 'inherit')\r\n      .selectAll('.tick text')\r\n      .classed('tick-text', true)\r\n}\r\n\r\nlet fillBar = (d: Cell) =>  mode === Mode.maximum ? colorScale_max(d.maximum) : colorScale_min(d.minimum)\r\n\r\nlet getXpos = (x: number) => x < window.innerWidth / 4 * 3 ? x+15 : x - window.innerWidth * 0.2\r\n\r\nlet showTooltip = function(this: SVGRectElement, e: MouseEvent, d: Cell) {\r\n  let tooltip = d3.select('#c2').select('.tooltip')\r\n    .style('visibility', 'visible')\r\n    .html(`Time: ${d.year}-${String(d.month + 1).padStart(2, '0')} &nbsp;&nbsp;  max: ${d.maximum} &nbsp;&nbsp;  min: ${d.minimum} `)\r\n    .style('left', getXpos(e.pageX) + 'px')\r\n    .style('top', e.pageY + 'px')\r\n  d3.select(this)\r\n    .style('stroke-width', 2)\r\n}\r\n\r\nlet fadeTooltip = function(this: SVGRectElement) {\r\n  d3.select('#c2').select('.tooltip')\r\n    .style('visibility', 'hidden')\r\n  d3.select(this)\r\n    .style('stroke-width', 0)\r\n}\r\n\r\nlet plotBars = function (canvas: any, data: any) {\r\n  let bars = canvas.append('g')\r\n    .classed('bar-wrapper', true)\r\n    .attr('transform', function() {\r\n      let xLeftPadding = xScale.step() * bandAlign * xScale.paddingOuter()\r\n      let yTopPadding = yScale.step() * bandAlign * yScale.paddingOuter()\r\n      return `translate(${xLeftPadding}, ${yTopPadding})`\r\n    })\r\n    .selectAll('g')\r\n    .data(data)\r\n    .enter()\r\n    .append('g')\r\n    .classed('bar-row-container', true)\r\n    .attr('transform', (d: Cell[]) => `translate(${0}, ${yScale(d[0].year)})`)\r\n    .selectAll('g')\r\n    .data((d: Cell) => d)\r\n    .enter()\r\n    .append('g')\r\n    .classed('bar-container', true)\r\n    .attr('transform', (d: Cell) => `translate(${xScale(monthName[d.month])}, 0)`)\r\n\r\n  bars.append('rect')\r\n    .classed('bar', true)\r\n    .attr('width', xScale.bandwidth())\r\n    .attr('height', yScale.bandwidth())\r\n    .attr('rx', Math.min(barRadiusMin, barRadius * xScale.bandwidth()))\r\n    .attr('ry', Math.min(barRadiusMin, barRadius * yScale.bandwidth()))\r\n    .style('fill', fillBar)\r\n    .style('stroke-width', '0')\r\n    .style('stroke', '#b8b8ab')\r\n    .on('mouseover', showTooltip)\r\n    .on('mouseout', fadeTooltip)\r\n\r\n  let minixScale = d3.scaleLinear()\r\n    .domain([0, 30])\r\n    .range([0, xScale.bandwidth()])\r\n  let miniyScale = d3.scaleLinear()\r\n    .domain([min_min_t, max_max_t])\r\n    .range([yScale.bandwidth(), 0])\r\n  let lineGenerator = d3.line()\r\n    .x((d: number[]) => d[0])\r\n    .y((d: number[]) => d[1])\r\n  bars.append('path')\r\n    .attr('d', (d: Cell) => lineGenerator(d.minlist!.map((d: number, i: number) => [minixScale(i), miniyScale(d)])))\r\n    .style('stroke', '#ededed')\r\n    .style('fill', 'none')\r\n  bars.append('path')\r\n    .attr('d', (d: Cell) => lineGenerator(d.maxlist!.map((d: number, i: number) => [minixScale(i), miniyScale(d)])))\r\n    .style('stroke', '#018026')\r\n    .style('fill', 'none')\r\n}\r\n\r\n/**\r\n * Initialize the canvas and data.\r\n * @param obj the parsed data from csv, a list of objects\r\n * @param svgid the id of the svg element\r\n */\r\nexport let init = function (obj: any, svgid: string) {\r\n  let bars = dataPreprocessing(obj)\r\n  canvas = setupCanvas(svgid)\r\n  setupScale()\r\n  plotAxis(canvas)\r\n  plotBars(canvas, bars)\r\n  plotLegend()\r\n}\r\n\r\n/**\r\n * Switch the view of min_temperture and max_temperature.\r\n */\r\nexport let changeMode = function () {\r\n  if (!canvas) return\r\n  mode = mode === Mode.minimum? Mode.maximum : Mode.minimum\r\n  d3.selectAll('.bar')\r\n    .style('fill', fillBar)\r\n  plotLegend()\r\n}\r\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n/* eslint-disable */\r\nimport * as d3 from 'd3'\r\nimport * as utils from '@/assets/ts/c2.ts'\r\nimport { Component, Vue, Watch } from 'vue-property-decorator'\r\n@Component({name: 'C2'})\r\nexport default class C2 extends Vue {\r\n  private radio:string = '1'\r\n  @Watch('radio', { immediate: true, deep: true })\r\n  radioChanged (): void {\r\n    utils.changeMode()\r\n  }\r\n  mounted (): void {\r\n    d3.csv('./data/temperature_daily.csv')\r\n      .then((data: any) => utils.init(data, 'heatmap'))\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./C2.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./C2.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./C2.vue?vue&type=template&id=30416641&\"\nimport script from \"./C2.vue?vue&type=script&lang=ts&\"\nexport * from \"./C2.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./C2.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./C2.vue?vue&type=style&index=0&lang=sass&\""],"sourceRoot":""}